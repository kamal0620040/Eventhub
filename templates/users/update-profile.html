{% extends "base.html" %}

{% load static %}

{% block page_name %}
    Update Profile
{% endblock page_name %}

{% block search-bar %}

{% endblock search-bar %}

{% block content %}

{% comment %}
    <style>
        .other{
            padding-top: 80px;
            display: block;
        }
    </style>
    <div class="container-fluid other">
        <form method="POST">
            {% csrf_token %}
            {{form.as_p}}
            <button>Update Profile</button>
        </form>
        
    </div>
{% endcomment %}

<style>
    @import url("https://fonts.googleapis.com/css2?family=Muli&display=swap");

* {
  margin: 0;
  padding: 0;
  box-sizing: inherit;
}

html {
  box-sizing: border-box;
}

body {
  font-family: "Muli", sans-serif;
}

.container-main{
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  overflow-y: hidden ;
}
.box{
  background: rgba(65, 156, 214, 0.7);
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  position: relative;
  overflow: hidden;
}
.box-1{
  height: 55rem;
  width: 40rem;
}
.circle{
  height: 20rem;
  width: 20rem;
  background-color:rgba(172, 218, 248, 0.5);
  position: absolute;
  border-radius: 50%;
  left: -6rem;
  bottom: -7rem;
}
.circle-2{
  height:3.5rem;
  width: 3.5rem;
  background-color:rgba(172, 218, 248, 0.5);
  position: absolute;
  border-radius: 50%;
  top:16rem;
  left:3.5rem;  
}
.triangle{
  height: 7rem;
  width: 7rem;
  position: absolute;
  background-color:rgba(172, 218, 248, 0.5);
  clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
  transform: rotate(-29.99deg);
  right: 5rem;
  bottom: 12rem;
}
.star{
  height: 8rem;
  width: 8rem;
  position: absolute;
  background-color:rgba(172, 218, 248, 0.5);
  clip-path: polygon(50% 0%, 61% 35%, 98% 35%, 68% 57%, 79% 91%, 50% 70%, 21% 91%, 32% 57%, 2% 35%, 39% 35%);
  transform: rotate(-25.36deg);
  top:-2rem;
  right: -1rem;
}
.main-text{
  /* font-family: Muli; */
  color: #E3EBF0;
  font-size: 3rem;
  text-align: center;
}
.secondary-text{
  font-size: 2rem;
  margin-top: 8rem;
  color: #E3EBF0;
  font-style: normal;
  font-weight: normal;
}
.password-change-main
{
  /* margin-top: 3rem; */
  padding: 0.1rem;
  height:2.5rem;
  width:16rem;
  background: #419CD6;
  border-radius: 15px;
  border: none;
  z-index: 100;
  vertical-align: middle;
}
.text-inside-buttom{
  font-size: 1.6rem;
  color: #E3EBF0;
}

.box-2{
  height: 55rem;
  width: 55rem;
  background: #E5E5E5;
}

.right-side{
  color: gray;
  margin-bottom: 2rem;
  display: none;
}


.cross{
  position: absolute;
  right: 4rem;
  top: 7rem;
}
.navbar{
    display: none;
}
footer{
    display: none;
}
/* profile photo*/
.A-circle {
        background: #C4C4C4;
        color: #fff;
        padding: 10px 20px;
        padding-top: 8px;
        border-radius: 50%;
        font-size: 35px;
        font-weight: bold;
    }
    .profile-image{
        border-radius: 50%;
        height: 5rem;
        width: 5rem;
    }

    .A-image{
        border-radius: 50%;
        margin-bottom: 10px;
    }

    .A-circle-size {
        margin-bottom: 20px;
        transform: scale(1.3);
    }
textarea{
    resize: none;
    height:55px;
}
.spacer{
  margin-bottom: 1.6rem;
}
.input-group-text{
    padding-right: 20px;
}

.myFieldclass{
    border: none;
    border-radius: 1px;
    padding: 10px;
    width: 20rem;
}

.myFieldclass:focus-within
{
    /* box-sizing: border-box; */
    outline: none;
    outline: thin solid green;
    
}

.name-space{
  padding-right: 41px;
}
.gender-space{
  padding-right: 35px;
}
.bio-space{
  padding-right: 59px;
}
.tertiary-text{
  font-size: medium;
  background-color: gold;
  border-radius: 20px;
}
/* #id_avatar {
	position: relative;
	overflow: hidden;
	margin: 10px;
}
#id_avatar input.upload {
	position: absolute;
	top: 0;
	right: 0;
	margin: 0;
	padding: 0;
	font-size: 20px;
	cursor: pointer;
	opacity: 0;
	filter: alpha(opacity=0);
} */
#avatar-clear_id{
  display: inline-block;
  flex-wrap: wrap;
  width: 20px;
  justify-content: center;
}
.for-input{
  display: flex;
  width: auto;
  flex-direction: column;
  text-align: center;
}
.for-input input{
  margin-left: 90px;
}
input[type="checkbox"]{
  margin-left: 200px;
  height: 15px;
}
.image-input{
  flex-direction: column;
  align-items: center;
}

.input-group label{
  /* display: none; */
}

@media only screen and (max-width: 650px) {
  .box-1{
    display: none;
  }
  .right-side{
    display: block;
  }
}

</style>
<div class="container-main">
    <div class="box box-1">
        <div class="circle"></div>
        <div class="circle-2"></div>
        <div class="star"></div>
        <div class="triangle"></div>
        <div class="content">
            <p class="main-text">Edit your profile detail:</p>
        <div>
            {% if user_edit.avatar %}
            <div class="A-image">
                <img class="profile-image" src="{{user_edit.avatar.url}}" alt="profile-img">
            </div>
            {% else %}
            <div class="A-circle-size">
                <span class="A-circle">{{user_edit.first_name|first}}</span>
            </div>
            {% endif %}
            <h3 class="profile-name">
                {{user_edit.first_name}}
                 {% if user_edit.superorganizer %}
                  <img style="margin-bottom: 2px;" class="verified-blue" src="{% static 'images/user-detail/verified-sign.svg'%}">
                  {% endif %}
                </h3>
        </div>


        {% if object.login_method == "email" %}
            <p class="secondary-text">Wanna change your password?</p>
            <a href="{% url 'users:password' %}">
              <button class="password-change-main">
                  <p class="text-inside-buttom">Change Password</p>
              </button>
            </a>
            {% else %}
            <p class="secondary-text">You are logged in with {{object.login_method}}.</p>
            <p class="tertiary-text">So, We cannot change your email and password.</p>
            {% endif %}
        </div>
    </div>
    <div class="box box-2">
        <div class="content">
          <a href="{% url 'users:profile' object.pk %}">
            <div class="cross"><img src="{% static 'images/user-detail/cross.svg'%}" alt=""></div>
          </a>
            <p class="main-text right-side"><b>Edit your profile</b></p>
            {%comment%}
                <form method="POST">
                    {% csrf_token %}
                    {{form.as_p}}
                    <button>Update Profile</button>
                </form>
            {%endcomment%}
            <form method="POST" enctype="multipart/form-data">
                {% csrf_token %}
            <div>
              {% if object.login_method == "email" %}
                <div class="input-group flex-nowrap spacer w-100 ">
                  <span class="input-group-text name-space" id="addon-wrapping">Email</span>
                  {{form.email}}
                </div>
                {% else %}
                <div class="input-group flex-nowrap spacer w-100 " style="visibility: hidden;">
                  <span class="input-group-text name-space" id="addon-wrapping">Email</span>
                  {{form.email}}
                </div>
                {% endif %}
                <div class="input-group flex-nowrap spacer w-100 ">
                    <span class="input-group-text name-space" id="addon-wrapping">Name</span>
                    {{form.first_name}}
                </div>

                <div class="input-group flex-nowrap spacer w-100 ">
                    <span class="input-group-text" id="addon-wrapping">Surname</span>
                    {{form.last_name}}
                </div>

                <div class="input-group flex-nowrap spacer w-100 ">
                    <span class="input-group-text gender-space" id="addon-wrapping">Gender</span>
                    {{form.gender}}
                </div>
                    <br />
                <div class="input-group flex-nowrap spacer w-100 ">
                        <span class="input-group-text bio-space" id="addon-wrapping">Bio</span>
                        {{form.bio}}
                </div>
                <br />
                <div class="input-group flex-nowrap spacer w-100 image-input ">
                    <span class="input-group-text" style="padding-left: 50px; padding-right: 50px; margin-bottom: 10px;" id="addon-wrapping">Avatar</span>
                    <div class="for-input">
                      {{form.avatar}}
                    </div>
                </div>

                <div class="login">
                        <button class="btn login-button" style="background-color: #419CD6; width:10rem; border-radius: 10px;" type="submit">
                            <span style="font-size: 15px; vertical-align: center; color: white;"> 
                                Update Profile
                            </span>
                        </button>
                </div>
              </div>
            </form>
        </div>
    </div>
</div>

<script>
  
$(".foot-icon").hover(function() {

$(this).css("opacity","1");
$(this).css("transform","scale(1.2)");

}, function(){
$(".foot-icon").css("opacity","");
$(this).css("transform","");
}
);
</script>
    {% endblock %}